[tool:pytest]
# Safe configuration for running tests without system crashes
# Use with: pytest -c pytest-safe.ini

testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Conservative settings to prevent resource exhaustion
addopts = 
    --strict-markers
    -q
    --tb=short
    --maxfail=3
    --timeout=60
    --timeout-method=thread
    --no-cov
    --cache-clear
    
# Test markers
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (moderate speed, requires components)
    slow: Tests that take more than 5 seconds
    requires_api: Tests requiring real API keys
    requires_data: Tests requiring external test data
    performance: Performance and benchmarking tests
    resource_intensive: Tests that use significant memory/CPU
    
# Async settings
asyncio_mode = auto

# Filter warnings to reduce output
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
    ignore::FutureWarning
    ignore::RuntimeWarning
    
# No parallel execution
junit_family = xunit2

# Collection settings to reduce memory usage
python_collect_max_depth = 3
collect_ignore_glob = 
    */backup/*
    */.gudang/*
    */temp/*